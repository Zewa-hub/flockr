{"ast":null,"code":"import _asyncToGenerator from \"D:/Travail/EPITA/Angular/projet_angular/flockr/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\n\nfunction SearchBarComponent_img_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 4);\n  }\n\n  if (rf & 2) {\n    const a_r1 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate3(\"src\", \"https://live.staticflickr.com/\", a_r1.server, \"/\", a_r1.id, \"_\", a_r1.secret, \".jpg\", i0.ɵɵsanitizeUrl);\n  }\n}\n\nexport class SearchBarComponent {\n  constructor(http) {\n    this.http = http;\n    this.request = \"\";\n    this.tab_images = [];\n  }\n\n  getAnyImages() {\n    return this.http.get(\"https://www.flickr.com/services/rest/\", {\n      params: {\n        method: 'flickr.photos.getRecent',\n        format: 'json',\n        api_key: '10f83f31283d58084c74937adbb8b561',\n        nojsoncallback: \"?\"\n      }\n    });\n  }\n\n  getImagesBySearch(search) {\n    return this.http.get(\"https://www.flickr.com/services/rest/\", {\n      params: {\n        text: search,\n        method: 'flickr.photos.search',\n        format: 'json',\n        nojsoncallback: '?',\n        tag_mode: 'all',\n        media: 'photos',\n        per_page: '15',\n        extras: 'tags,date_taken,owner_name,url_q,url_m',\n        api_key: '10f83f31283d58084c74937adbb8b561'\n      }\n    }).pipe(map(response => response.photos.photo));\n  }\n\n  getImages() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      var inputValue = document.getElementById(\"search\").value;\n\n      if (inputValue === \"\") {} else {\n        _this.getImagesBySearch(inputValue).subscribe(data => {\n          console.log(\"oui\");\n        });\n      }\n    })();\n  }\n\n  ngOnInit() {\n    this.getAnyImages().subscribe(data => {\n      console.log(data.photos.photo);\n\n      for (let i of data.photos.photo) {\n        console.log(i.server);\n      }\n\n      this.tab_images = data.photos.photo;\n    });\n  }\n\n}\n\nSearchBarComponent.ɵfac = function SearchBarComponent_Factory(t) {\n  return new (t || SearchBarComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n};\n\nSearchBarComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SearchBarComponent,\n  selectors: [[\"app-search-bar\"]],\n  decls: 7,\n  vars: 1,\n  consts: [[\"name\", \"Form\"], [\"id\", \"search\", \"type\", \"text\", \"placeholder\", \"Find everything !\"], [3, \"click\"], [\"class\", \"fit-picture\", \"alt\", \"\", 3, \"src\", 4, \"ngFor\", \"ngForOf\"], [\"alt\", \"\", 1, \"fit-picture\", 3, \"src\"]],\n  template: function SearchBarComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"search-bar works!\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"form\", 0);\n      i0.ɵɵelement(3, \"input\", 1);\n      i0.ɵɵelementStart(4, \"button\", 2);\n      i0.ɵɵlistener(\"click\", function SearchBarComponent_Template_button_click_4_listener() {\n        return ctx.getImages();\n      });\n      i0.ɵɵtext(5, \"Search !\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(6, SearchBarComponent_img_6_Template, 1, 3, \"img\", 3);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngForOf\", ctx.tab_images);\n    }\n  },\n  directives: [i2.NgForOf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzZWFyY2gtYmFyLmNvbXBvbmVudC5jc3MifQ== */\"]\n});","map":{"version":3,"sources":["D:/Travail/EPITA/Angular/projet_angular/flockr/src/app/search-bar/search-bar.component.ts"],"names":["map","i0","i1","i2","SearchBarComponent_img_6_Template","rf","ctx","ɵɵelement","a_r1","$implicit","ɵɵpropertyInterpolate3","server","id","secret","ɵɵsanitizeUrl","SearchBarComponent","constructor","http","request","tab_images","getAnyImages","get","params","method","format","api_key","nojsoncallback","getImagesBySearch","search","text","tag_mode","media","per_page","extras","pipe","response","photos","photo","getImages","inputValue","document","getElementById","value","subscribe","data","console","log","ngOnInit","i","ɵfac","SearchBarComponent_Factory","t","ɵɵdirectiveInject","HttpClient","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","SearchBarComponent_Template","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","SearchBarComponent_Template_button_click_4_listener","ɵɵtemplate","ɵɵadvance","ɵɵproperty","directives","NgForOf","styles"],"mappings":"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","sourcesContent":["import { map } from 'rxjs/operators';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/common/http\";\r\nimport * as i2 from \"@angular/common\";\r\nfunction SearchBarComponent_img_6_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelement(0, \"img\", 4);\r\n} if (rf & 2) {\r\n    const a_r1 = ctx.$implicit;\r\n    i0.ɵɵpropertyInterpolate3(\"src\", \"https://live.staticflickr.com/\", a_r1.server, \"/\", a_r1.id, \"_\", a_r1.secret, \".jpg\", i0.ɵɵsanitizeUrl);\r\n} }\r\nexport class SearchBarComponent {\r\n    constructor(http) {\r\n        this.http = http;\r\n        this.request = \"\";\r\n        this.tab_images = [];\r\n    }\r\n    getAnyImages() {\r\n        return this.http.get(\"https://www.flickr.com/services/rest/\", {\r\n            params: {\r\n                method: 'flickr.photos.getRecent',\r\n                format: 'json',\r\n                api_key: '10f83f31283d58084c74937adbb8b561',\r\n                nojsoncallback: \"?\"\r\n            }\r\n        });\r\n    }\r\n    getImagesBySearch(search) {\r\n        return this.http.get(\"https://www.flickr.com/services/rest/\", {\r\n            params: {\r\n                text: search,\r\n                method: 'flickr.photos.search',\r\n                format: 'json',\r\n                nojsoncallback: '?',\r\n                tag_mode: 'all',\r\n                media: 'photos',\r\n                per_page: '15',\r\n                extras: 'tags,date_taken,owner_name,url_q,url_m',\r\n                api_key: '10f83f31283d58084c74937adbb8b561'\r\n            }\r\n        })\r\n            .pipe(map((response) => response.photos.photo));\r\n    }\r\n    async getImages() {\r\n        var inputValue = document.getElementById(\"search\").value;\r\n        if (inputValue === \"\") {\r\n        }\r\n        else {\r\n            this.getImagesBySearch(inputValue).subscribe(data => {\r\n                console.log(\"oui\");\r\n            });\r\n        }\r\n    }\r\n    ngOnInit() {\r\n        this.getAnyImages().subscribe(data => {\r\n            console.log(data.photos.photo);\r\n            for (let i of data.photos.photo) {\r\n                console.log(i.server);\r\n            }\r\n            this.tab_images = data.photos.photo;\r\n        });\r\n    }\r\n}\r\nSearchBarComponent.ɵfac = function SearchBarComponent_Factory(t) { return new (t || SearchBarComponent)(i0.ɵɵdirectiveInject(i1.HttpClient)); };\r\nSearchBarComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: SearchBarComponent, selectors: [[\"app-search-bar\"]], decls: 7, vars: 1, consts: [[\"name\", \"Form\"], [\"id\", \"search\", \"type\", \"text\", \"placeholder\", \"Find everything !\"], [3, \"click\"], [\"class\", \"fit-picture\", \"alt\", \"\", 3, \"src\", 4, \"ngFor\", \"ngForOf\"], [\"alt\", \"\", 1, \"fit-picture\", 3, \"src\"]], template: function SearchBarComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"p\");\r\n        i0.ɵɵtext(1, \"search-bar works!\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(2, \"form\", 0);\r\n        i0.ɵɵelement(3, \"input\", 1);\r\n        i0.ɵɵelementStart(4, \"button\", 2);\r\n        i0.ɵɵlistener(\"click\", function SearchBarComponent_Template_button_click_4_listener() { return ctx.getImages(); });\r\n        i0.ɵɵtext(5, \"Search !\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(6, SearchBarComponent_img_6_Template, 1, 3, \"img\", 3);\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(6);\r\n        i0.ɵɵproperty(\"ngForOf\", ctx.tab_images);\r\n    } }, directives: [i2.NgForOf], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzZWFyY2gtYmFyLmNvbXBvbmVudC5jc3MifQ== */\"] });\r\n"]},"metadata":{},"sourceType":"module"}